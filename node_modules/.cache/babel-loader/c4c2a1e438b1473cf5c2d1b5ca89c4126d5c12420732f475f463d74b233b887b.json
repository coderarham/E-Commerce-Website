{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { authService } from '../utils/authService';\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: JSON.parse(localStorage.getItem('user')) || null,\n    isAuthenticated: !!localStorage.getItem('user'),\n    loading: false,\n    token: localStorage.getItem('token')\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n      state.loading = false;\n      localStorage.setItem('user', JSON.stringify(action.payload.user));\n      localStorage.setItem('token', action.payload.token);\n    },\n    logout: state => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      state.loading = false;\n      localStorage.removeItem('user');\n      localStorage.removeItem('token');\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    }\n  }\n});\n\n// Async actions\nexport const registerUser = (email, password, name) => async dispatch => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authService.register(email, password, name);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\nexport const loginUser = (email, password) => async dispatch => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authService.login(email, password);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\nexport const logoutUser = () => async dispatch => {\n  dispatch(logout());\n};\nexport const {\n  setUser,\n  logout,\n  setLoading\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","authService","authSlice","name","initialState","user","JSON","parse","localStorage","getItem","isAuthenticated","loading","token","reducers","setUser","state","action","payload","setItem","stringify","logout","removeItem","setLoading","registerUser","email","password","dispatch","response","register","error","loginUser","login","logoutUser","actions","reducer"],"sources":["C:/Users/User/OneDrive/Desktop/coding/ecommerce/src/store/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { authService } from '../utils/authService';\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: JSON.parse(localStorage.getItem('user')) || null,\n    isAuthenticated: !!localStorage.getItem('user'),\n    loading: false,\n    token: localStorage.getItem('token'),\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n      state.loading = false;\n      localStorage.setItem('user', JSON.stringify(action.payload.user));\n      localStorage.setItem('token', action.payload.token);\n    },\n    logout: (state) => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      state.loading = false;\n      localStorage.removeItem('user');\n      localStorage.removeItem('token');\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    },\n  },\n});\n\n// Async actions\nexport const registerUser = (email, password, name) => async (dispatch) => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authService.register(email, password, name);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\n\nexport const loginUser = (email, password) => async (dispatch) => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authService.login(email, password);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\n\nexport const logoutUser = () => async (dispatch) => {\n  dispatch(logout());\n};\n\nexport const { setUser, logout, setLoading } = authSlice.actions;\nexport default authSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}