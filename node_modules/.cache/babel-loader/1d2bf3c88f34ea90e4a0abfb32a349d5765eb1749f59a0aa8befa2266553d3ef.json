{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { authAPI } from '../utils/api';\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    isAuthenticated: false,\n    loading: false,\n    token: localStorage.getItem('token')\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n      state.loading = false;\n      localStorage.setItem('token', action.payload.token);\n    },\n    logout: state => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      state.loading = false;\n      localStorage.removeItem('token');\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    }\n  }\n});\n\n// Async actions\nexport const registerUser = userData => async dispatch => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authAPI.register(userData);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\nexport const loginUser = credentials => async dispatch => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authAPI.login(credentials);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\nexport const {\n  setUser,\n  logout,\n  setLoading\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","authAPI","authSlice","name","initialState","user","isAuthenticated","loading","token","localStorage","getItem","reducers","setUser","state","action","payload","setItem","logout","removeItem","setLoading","registerUser","userData","dispatch","response","register","error","loginUser","credentials","login","actions","reducer"],"sources":["C:/Users/User/OneDrive/Desktop/coding/ecommerce/src/store/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { authAPI } from '../utils/api';\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    isAuthenticated: false,\n    loading: false,\n    token: localStorage.getItem('token'),\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n      state.loading = false;\n      localStorage.setItem('token', action.payload.token);\n    },\n    logout: (state) => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      state.loading = false;\n      localStorage.removeItem('token');\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    },\n  },\n});\n\n// Async actions\nexport const registerUser = (userData) => async (dispatch) => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authAPI.register(userData);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\n\nexport const loginUser = (credentials) => async (dispatch) => {\n  try {\n    dispatch(setLoading(true));\n    const response = await authAPI.login(credentials);\n    dispatch(setUser(response));\n    return response;\n  } catch (error) {\n    dispatch(setLoading(false));\n    throw error;\n  }\n};\n\nexport const { setUser, logout, setLoading } = authSlice.actions;\nexport default authSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,cAAc;AAEtC,MAAMC,SAAS,GAAGF,WAAW,CAAC;EAC5BG,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,IAAI,EAAE,IAAI;IACVC,eAAe,EAAE,KAAK;IACtBC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;EACrC,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1BD,KAAK,CAACR,IAAI,GAAGS,MAAM,CAACC,OAAO,CAACV,IAAI;MAChCQ,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACC,OAAO,CAACP,KAAK;MAClCK,KAAK,CAACP,eAAe,GAAG,IAAI;MAC5BO,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBE,YAAY,CAACO,OAAO,CAAC,OAAO,EAAEF,MAAM,CAACC,OAAO,CAACP,KAAK,CAAC;IACrD,CAAC;IACDS,MAAM,EAAGJ,KAAK,IAAK;MACjBA,KAAK,CAACR,IAAI,GAAG,IAAI;MACjBQ,KAAK,CAACL,KAAK,GAAG,IAAI;MAClBK,KAAK,CAACP,eAAe,GAAG,KAAK;MAC7BO,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBE,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAClC,CAAC;IACDC,UAAU,EAAEA,CAACN,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACN,OAAO,GAAGO,MAAM,CAACC,OAAO;IAChC;EACF;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMK,YAAY,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EAC5D,IAAI;IACFA,QAAQ,CAACH,UAAU,CAAC,IAAI,CAAC,CAAC;IAC1B,MAAMI,QAAQ,GAAG,MAAMtB,OAAO,CAACuB,QAAQ,CAACH,QAAQ,CAAC;IACjDC,QAAQ,CAACV,OAAO,CAACW,QAAQ,CAAC,CAAC;IAC3B,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdH,QAAQ,CAACH,UAAU,CAAC,KAAK,CAAC,CAAC;IAC3B,MAAMM,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMC,SAAS,GAAIC,WAAW,IAAK,MAAOL,QAAQ,IAAK;EAC5D,IAAI;IACFA,QAAQ,CAACH,UAAU,CAAC,IAAI,CAAC,CAAC;IAC1B,MAAMI,QAAQ,GAAG,MAAMtB,OAAO,CAAC2B,KAAK,CAACD,WAAW,CAAC;IACjDL,QAAQ,CAACV,OAAO,CAACW,QAAQ,CAAC,CAAC;IAC3B,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdH,QAAQ,CAACH,UAAU,CAAC,KAAK,CAAC,CAAC;IAC3B,MAAMM,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAM;EAAEb,OAAO;EAAEK,MAAM;EAAEE;AAAW,CAAC,GAAGjB,SAAS,CAAC2B,OAAO;AAChE,eAAe3B,SAAS,CAAC4B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}