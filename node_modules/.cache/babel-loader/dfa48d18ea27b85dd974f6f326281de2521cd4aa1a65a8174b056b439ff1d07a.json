{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { cartService } from '../utils/cartService';\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [],\n    total: 0,\n    loading: false\n  },\n  reducers: {\n    setCart: (state, action) => {\n      state.items = action.payload.items || [];\n      state.total = action.payload.total || 0;\n      state.loading = false;\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    }\n  }\n});\n\n// Async actions\nexport const loadCart = userId => async dispatch => {\n  try {\n    dispatch(setLoading(true));\n    const cart = await cartService.getCart(userId);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Load cart error:', error);\n    dispatch(setLoading(false));\n  }\n};\nexport const addToCart = (userId, product, size) => async dispatch => {\n  try {\n    const cart = await cartService.addItem(userId, product, size);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Add to cart failed:', error);\n  }\n};\nexport const updateQuantity = (userId, productId, size, quantity) => async dispatch => {\n  try {\n    const cart = await cartService.updateQuantity(userId, productId, size, quantity);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Update quantity failed:', error);\n  }\n};\nexport const removeFromCart = (userId, productId, size) => async dispatch => {\n  try {\n    const cart = await cartService.removeItem(userId, productId, size);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Remove from cart failed:', error);\n  }\n};\nexport const clearCart = userId => async dispatch => {\n  try {\n    const cart = await cartService.clearCart(userId);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Clear cart failed:', error);\n  }\n};\nexport const {\n  setCart,\n  setLoading\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartService","cartSlice","name","initialState","items","total","loading","reducers","setCart","state","action","payload","setLoading","loadCart","userId","dispatch","cart","getCart","error","console","addToCart","product","size","addItem","updateQuantity","productId","quantity","removeFromCart","removeItem","clearCart","actions","reducer"],"sources":["C:/Users/User/OneDrive/Desktop/coding/ecommerce/src/store/cartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { cartService } from '../utils/cartService';\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [],\n    total: 0,\n    loading: false\n  },\n  reducers: {\n    setCart: (state, action) => {\n      state.items = action.payload.items || [];\n      state.total = action.payload.total || 0;\n      state.loading = false;\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    }\n  }\n});\n\n// Async actions\nexport const loadCart = (userId) => async (dispatch) => {\n  try {\n    dispatch(setLoading(true));\n    const cart = await cartService.getCart(userId);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Load cart error:', error);\n    dispatch(setLoading(false));\n  }\n};\n\nexport const addToCart = (userId, product, size) => async (dispatch) => {\n  try {\n    const cart = await cartService.addItem(userId, product, size);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Add to cart failed:', error);\n  }\n};\n\nexport const updateQuantity = (userId, productId, size, quantity) => async (dispatch) => {\n  try {\n    const cart = await cartService.updateQuantity(userId, productId, size, quantity);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Update quantity failed:', error);\n  }\n};\n\nexport const removeFromCart = (userId, productId, size) => async (dispatch) => {\n  try {\n    const cart = await cartService.removeItem(userId, productId, size);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Remove from cart failed:', error);\n  }\n};\n\nexport const clearCart = (userId) => async (dispatch) => {\n  try {\n    const cart = await cartService.clearCart(userId);\n    dispatch(setCart(cart));\n  } catch (error) {\n    console.error('Clear cart failed:', error);\n  }\n};\n\nexport const { setCart, setLoading } = cartSlice.actions;\nexport default cartSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}